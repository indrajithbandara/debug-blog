---
layout: post
title:  "MongoDB!"
date:   2016-10-13 15:32:03 -0300
categories: start blog
---
## MongoDB

###### NOSQL
Nos bancos relacionais o que importa são as respostas que voce tem, sabemos os dados que vao entrando, normalizando, separando todas
informacoes para nao ter duplicidade nas tabelas, só existe uma forma de modelar o relacional, normalizando, agora se vc for NoSQL
as perguntas que importam, o que o sistema quer no inicio dele

###### Terminologia
SQL RDBMS         MongoDB
DATABASE          DATABASE
TABLE             COLLECTION
ROWS              DOCUMENT JSON
QUERY             QUERY
INDEX             INDEX
PARTITION         SHARD

###### Vantagens
Normalmente as empresas utilizam os bancos NoSQL quando possuem um banco de dados em franco crescimento e precisam escalar horizontalmente com performance.

###### Tipos
Nesse universo de Banco de Dados NoSQL temos alguns grupos grandes com diversos bancos de dados e para as mais diversas finalidades, então vamos conhecer um pouco sobre eles para entender um pouco onde iremos nos enfiar. :p
Chave/Valor;
Documento;
Grafo;
Coluna.

##### Antes de conectar o servidor dá permissão e criar daqta
sudo mkdir /data
sudo mkdir /data/db
sudo chmod 777 -Rf /data

###### Vamos conectar ao servidor usando o client: 
mongo

###### instalar o Mongo Hacker
https://github.com/TylerBrock/mongo-hacker

###### Para levantar o servidor
mongod

###### Para levantar o servidor
mongo

#### Database

###### Para listarmos nossas databases precisamos apenas executar o seguinte comando no cliente do MongoDb:
show dbs

###### Agora vamos criar o nosso banco para iniciar o nosso Instagram, execute o seguinte comando:
use be-mean-instagram
switched to db be-mean-instagram

###### se quiser ver qual banco de dados estamos usando basta você executar db no cliente:
db
be-mean-instagram

##### dropDatabase
Para apagarmos um banco de dados é bem simples, basta execurtarmos a função dropDatabase() após termos definido nosso banco com use nome_do_banco:
$ use banco_a_remover
switched to db banco_a_remover

###### Mongoexport
Serve para exportar os dados de uma colecao para um arquivo Json

###### Sinaxe
chama o mongo export com --db, com nome da database, --collection com nome da coleção a ser exportada, e --out com nome do arquivo .jason que vc quer que salve.
$ mongoxport --db nome_da_database --collection nome_da_colecao --out minha_colecao.json

##### mongoimport
A mesma coisa, porem dessa vez temos o --drop que apaga sua colecao se ela existir anteriormente e joga os dados em cima da colecao vazia,  e file eh o aquivo que tem os dados desse json
$ mongoimport --db database --collection collection --drop --file data.json

#### Exercicios
Importando os restaurantes

$ mongoimport --db be-mean --collection restaurantes --host=127.0.0.1 --drop --file restaurantes.json
connected to: 127.0.0.1
Sat Jan 14 10:56:50.019 dropping: be-mean.restaurantes
Sat Jan 14 10:56:51.211 check 9 25359
Sat Jan 14 10:56:51.524 imported 25359 objects




















---
layout: post
title:  "MongoDb!"
date:   2016-05-14 14:42:55 -0300
categories: start blog
---
MongoDb é um banco não relacional, orientado a documentos e que trabalha com Json, vou abordar apenas alguns comandos basicos.


##### levantar o Servidor do MongoDb
npm install -g mongo-hacker

##### Depois dá as permições
sudo chown -R $(whoami) $(npm config get prefix)/{lib/node_modules,bin,share}


##### levantar o Servidor do MongoDb
$ mongod

##### levantar o Client, onde vamos intgeragir com o servidor
mongo

#### Para deixar o console colorido instale o mongohacker
[MongoHacker](http://tylerbrock.github.io/mongo-hacker/)

##### Para exportarmos os dados de uma coleção usaremos o comando: mongoexport
mongoexport --db nome_do_database --collection nome_da_colecao --out minha_colecao.json

##### Para importar uma coleção de dados usaremos o comando: mongoimport
mongoimport --db database --collection collection --drop --file data.json

##### Para usar ou criar a dabase escolhida
use nome_database

##### Para escolher a database na hora de levandar o banco
mongo nome_database

##### Para listar as databases criadas
show dbs

##### Para listar as coleçõescolher
show collections

##### Dá o nome da database atual
db

##### Inserindo um objeto com variavel e um boolean
var json = {escola: 'Webschool', active:true}

##### Inserindo um objeto
db.teste.insert(json)

##### INSERT() CREATE

###### Para você conferir seu pokemon na sua coleção basta usar o comando find():
db.pokemons.find()


##### SAVE() INSERE E SALVA

###### Insere os dados
var pokemon = {'name':'Caterpie','description':'Larva lutadora','type': 'inseto', attack: 30, height: 0.3 }

##### Salva na tabela
db.pokemons.save(pokemon)


##### Modificando o objeto com a query

##### Criando a query de busca
 var query = {name: 'Caterpie'}
 
##### Utilizando o find com variavel
var p = db.pokemons.find(query)

### Se for buscar novamente ele está em cursor, faça:
db.pokemons.findOne()

###### Agora fazemos a busca
p.name = cartepie

###### Salvando do local para a maquina
db.pokemons.save(p)

###### Adicionadno valor ao caterpie localmente
p.defense = 35

##### Salvando no banco
db.pokemons.save(p)

#### Cursor

#### Primeiramente passando o find que retorna o cursor
var cur = db.pokemons.find();

#### Criamos uma funcao com while para pegar o cursor
while( cur.hasNext() ) { print(tojson(cur.next()))};


##### Part 3




















###### Exercicios

1 - 


##### Exercicio: importar a base de dados.
mongoimport --db be-mean --collection restaurantes --host=127.0.0.1 --drop --file restaurantes.json
connected to: 127.0.0.127

 ##### Contando os restaurantes da database
 db.restaurantes.find({}).count()
 
 
 
 